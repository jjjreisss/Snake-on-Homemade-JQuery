{"version":3,"sources":["webpack/bootstrap e6ff97ef9c57f60bd12e","./js/main.js","./js/snake.js","./js/snake_view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,eAAe;AAChC,oBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;;;;;AClGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e6ff97ef9c57f60bd12e\n **/","var Board = require(\"./snake.js\");\nvar View = require(\"./snake_view.js\");\n\nJl.$l(function() {\n  var $rootElement = Jl.$l(\".snake\");\n  var board = new Board(25);\n  var view = new View(board, $rootElement);\n\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Snake = function() {\n  this.direction = \"N\";\n  this.segments = [[10, 10]];\n}\n\nSnake.directionsHash = {\n  \"N\": [-1, 0],\n  \"S\": [1, 0],\n  \"E\": [0, 1],\n  \"W\": [0, -1]\n}\n\nSnake.addCoordinates = function(coord, adder) {\n  return [coord[0] + adder[0], coord[1] + adder[1]];\n}\n\nSnake.subtractCoordinates = function(coord, adder) {\n  return [coord[0] - adder[0], coord[1] - adder[1]];\n}\n\nSnake.prototype.grow = function () {\n  var last = this.segments[this.segments.length - 1];\n  var newLink = Snake.subtractCoordinates(last, Snake.directionsHash[this.direction]);\n  this.segments.push(newLink);\n};\n\n\nSnake.prototype.move = function () {\n  var head = this.segments[0];\n  var newLink = Snake.addCoordinates(head, Snake.directionsHash[this.direction]);\n  this.segments.pop();\n  this.segments.unshift(newLink);\n};\n\nSnake.prototype.turn = function (direction) {\n  this.direction = direction;\n};\n\n\nvar Board = function(size) {\n  this.snake = new Snake();\n  this.grid = [];\n  this.size = size;\n  this.apple = [];\n  this.makeApple();\n}\n\nBoard.prototype.populateGrid = function () {\n  for (var i = 0; i < this.size; i++) {\n    for (var j = 0; j < this.size; j++) {\n      this.grid.push([i, j]);\n    }\n  }\n};\n\nBoard.prototype.makeApple = function () {\n  var pos = [Math.floor(Math.random()*this.size), Math.floor(Math.random()*this.size)];\n  while (this.snake.segments.indexOf(pos) !== -1) {\n    pos = [Math.floor(Math.random()*this.size), Math.floor(Math.random()*this.size)];\n  }\n  this.apple = pos;\n};\n\nBoard.prototype.isOver = function () {\n  var that = this;\n  var head = this.snake.segments[0];\n  var verdict = false;\n  this.snake.segments.slice(1).forEach(function(segment) {\n    if (segment[0] === head[0] && segment[1] === head[1]) {\n      verdict = true;\n    }\n  })\n\n  if ([head[0], head[1]].indexOf(-1) !== -1) {\n    verdict = true;\n  } else if ([head[0], head[1]].indexOf(that.size) !== -1) {\n    verdict = true;\n  }\n\n  return verdict;\n};\n\n\nBoard.prototype.moveSnake = function () {\n  this.snake.move();\n  if (this.snake.segments[0][0] === this.apple[0] &&\n      this.snake.segments[0][1] === this.apple[1]) {\n    this.makeApple();\n    this.snake.grow();\n  }\n  if (this.isOver() === true) {\n    alert(\"you lose\" + this.snake.segments);\n  }\n};\n\nmodule.exports = Board;\n\n\n// var a = document.querySelector('a[data-a=1]')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 1\n ** module chunks = 0\n **/","var View = function(board, $el) {\n  this.board = board;\n  this.$el = $el;\n\n  this.setupBoard();\n  this.renderSnake();\n  this.bindEvents();\n\n  window.setInterval(this.step.bind(this), 300);\n}\n\nView.prototype.setupBoard = function () {\n  for (var i = 0; i < this.board.size; i++) {\n    for (var j = 0; j < this.board.size; j++) {\n      var $newTile = Jl.$l('<div>');\n      $newTile.attr(\"pos\", [i, j]);\n      this.$el.append($newTile);\n    }\n  }\n};\n\nView.prototype.renderApples = function () {\n  Jl.$l('div').removeClass('apple');\n  var a = document.querySelector(\"div[pos='\" + this.board.apple + \"']\");\n  Jl.$l(a).addClass(\"apple\");\n};\n\nView.prototype.renderSnake = function () {\n  Jl.$l('div').removeClass('snake');\n  this.board.snake.segments.forEach(function(segment) {\n    segment = segment.toString();\n    var a = document.querySelector(\"div[pos='\" + segment + \"']\");\n    Jl.$l(a).addClass(\"snake\");\n  })\n};\n\nView.prototype.step = function () {\n  this.board.moveSnake();\n  this.renderSnake();\n  this.renderApples();\n};\n\nView.prototype.bindEvents = function () {\n  var that = this;\n\n  window.addEventListener(\"keydown\", View.checkKeyPressed.bind(this), false);\n};\n\nView.checkKeyPressed = function(event) {\n  if (event.keyCode === (37) && this.board.snake.direction !== \"E\") {\n    this.board.snake.direction = \"W\";\n  } else if (event.keyCode === (38) && this.board.snake.direction !== \"S\") {\n    this.board.snake.direction = \"N\";\n  } else if (event.keyCode === (39) && this.board.snake.direction !== \"W\") {\n    this.board.snake.direction = \"E\";\n  } else if (event.keyCode === (40) && this.board.snake.direction !== \"N\") {\n    this.board.snake.direction = \"S\";\n  }\n}\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake_view.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}